<html xmlns:f="https://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" data-namespace-typo3-fluid="true">
	<f:layout name="Default" />

	<f:section name="content">
		<v:asset.style path="EXT:hcb_iamdioe_meme/Resources/Public/css/list/style.css" standalone="1" />
		<f:if condition="{preview}">
			<f:then>
				<f:debug title="...">{memeEntriesRandom}</f:debug>
				<div class="row memepreview">
					<f:for each="{memeEntriesRandom}" as="memeEntry">
						<div class="col-12 col-md-4">
							<f:image src="{memeEntry.bild.uid}" width="390" class="img-responsive" treatIdAsReference="TRUE" />
						</div>
					</f:for>
				</div>
			</f:then>
			<f:else>
				<f:debug title="...">{memeEntries}</f:debug>
				<div class="row memelist">
					<f:for each="{memeEntries}" as="memeEntry">
						<div class="col-12 col-sm-6 col-md-4 col-lg-3">
							<a href="#" class="meme-entry" data-memehashtag="{f:if(condition: memeEntry.memetag, then: '#{memeEntry.memetag}')}" data-memehashtags="{f:if(condition: settings.hashtags, then: '{settings.hashtags}')}" data-memeuid="{memeEntry.uid}" data-toggle="modal" data-target="#meme-modal-{memeEntry.uid}">
								<f:image src="{memeEntry.bild.uid}" width="270" class="img-responsive" treatIdAsReference="TRUE" />
								<f:if condition="{memeEntry.memetag}"><b>#{memeEntry.memetag}</b><br></f:if>
								{memeEntry.votes} upvotes
							</a>
							<div class="modal fade" id="meme-modal-{memeEntry.uid}" tabindex="-1" role="dialog" aria-labelledby="meme-modal-{memeEntry.uid}-label">
								<div class="modal-dialog modal-lg" role="document">
									<div class="modal-content">
										<div class="modal-header">
											<button type="button" class="close" data-dismiss="modal" aria-label="Schließen"><span aria-hidden="true">&times;</span></button>
											<h4 class="modal-title" id="meme-modal-{memeEntry.uid}-label"><f:if condition="{memeEntry.memetag}"><b>#{memeEntry.memetag}</b><br></f:if></h4>
										</div>
										<div class="modal-body">
											<div class="row">
												<div class="col-12 col-md-6">
													<f:image src="{memeEntry.bild.uid}" width="700" class="img-responsive" treatIdAsReference="TRUE" />
												</div>
												<div class="col-12 col-md-6">
													<f:if condition="{memeEntry.memetag}"><h2>#{memeEntry.memetag}</h2></f:if>
													<f:if condition="{settings.hashtags}"><h3>{settings.hashtags}</h3></f:if>
													<br>
													{memeEntry.votes} upvotes<br>
													<br>
													<button type="button" class="btn btn-success">upvote <span class="glyphicon glyphicon-thumbs-up" style="margin-left:6px;" aria-hidden="true"></span></button><br>
													<br>
													<button type="button" class="btn btn-primary">share <span class="glyphicon glyphicon-share" style="margin-left:6px;" aria-hidden="true"></span></button>
												</div>
											</div>
										</div>
										<div class="modal-footer">
											<button type="button" class="btn btn-default" data-dismiss="modal">Schließen</button>
										</div>
									</div>
								</div>
							</div>
						</div>
					</f:for>
				</div>
			</f:else>
		</f:if>
		<v:asset.script path="EXT:hcb_iamdioe_meme/Resources/Public/js/list/script.js" standalone="1" />
	</f:section>
</html>